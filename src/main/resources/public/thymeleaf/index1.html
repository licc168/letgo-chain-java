<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
<title>首页</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link th:href="@{webjars/bootstrap/3.3.7/css/bootstrap-theme.css}" rel="stylesheet" />
        <link th:href="@{webjars/bootstrap/3.3.7/css/bootstrap.css}" rel="stylesheet" />

    </head>

	<body>
	 <button  onclick="buyFrist(this)" class="btn btn-success"   >取队列头买</button>
     <button  onclick="buyLast(this)"   class="btn btn-success"  >取队列尾买</button>

     <ul th:each="user: ${users}">
         <li th:text="${user.name}"></li>

         <button th:data="${user.cookie}"  th:value="${user.name}" onclick="listsLet(this)" >查看狗信息</button>
     </ul>



  </body>

</html>
 <script src="/static/js/jquery-3.3.1.min.js"></script>
<script>

  function  listsLet(elm) {
      $this = jQuery(elm);
      var name = $this.attr("value");
      var cookie = $this.attr("data");
      window.location.href="/listsLet?name="+name+"&cookie="+cookie
  }
    


  function  buyFrist(elm) {
      $this = jQuery(elm);
      $.post({
      url:"/buyFrist",
      dataType:"json",
      data:{name:1111},
      success:function(data) {
        alert(data.desc)
      },
      error:function() {
        alert("系统异常")
      }

      })

   }
   function  buyLast(elm) {
       $this = jQuery(elm);
       $.post({
           url:"/buyLast",
           dataType:"json",
           data:{name:1111},
           success:function(data) {
               alert(data.desc)
           },
           error:function() {
               alert("系统异常")
           }

       })

   }
</script>